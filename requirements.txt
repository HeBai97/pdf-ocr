# ===== Core OCR Dependencies =====
# dots.ocr 官方仓库（从 GitHub 安装）
# git+https://github.com/rednote-hilab/dots.ocr.git

# ===== PyTorch 核心框架 =====
# 注意：根据你的硬件选择合适的版本
# CPU版本：torch==2.8.0+cpu
# CUDA版本：访问 https://pytorch.org 获取对应命令
torch>=2.5.0,<3.0.0  # 兼容 2.8.0
torchvision>=0.20.0,<0.24.0  # 兼容 0.23.0
torchaudio>=2.5.0,<3.0.0  # 可选，音频处理
intel-extension-for-pytorch>=2.4.0  # Intel XPU 支持

# ===== vLLM CPU 推理引擎 =====
# 注意：vLLM CPU 模式需要特殊构建版本
# 方法1：使用 CPU 版本（需要从源码编译或使用特定wheel）
# vllm>=0.11.0  # 0.11.0+ 已官方集成 dots.ocr

# ===== Transformers 推理框架（推荐）=====
transformers>=4.40.0,<5.0.0  # 兼容 4.46.3
accelerate>=1.0.0,<2.0.0  # 兼容 1.11.0
qwen-vl-utils>=0.0.1

# ===== 图像处理 =====
Pillow>=11.0.0,<12.0.0  # 兼容 11.3.0
opencv-python>=4.10.0,<5.0.0  # 兼容 4.12.0
# opencv-contrib-python>=4.10.0  # 可选扩展功能

# ===== PDF 处理 =====
PyMuPDF>=1.23.0  # fitz

# ===== OCR 工具 (备选方案) =====
paddlepaddle>=2.5.0
paddleocr>=2.7.0

# ===== 数据处理 =====
numpy>=2.0.0,<3.0.0  # 兼容 2.2.6
tqdm>=4.65.0
addict>=2.4.0  # 字典属性访问
easydict>=1.9  # 字典属性访问（另一种实现）
matplotlib>=3.5.0  # 绘图和可视化

# ===== 环境配置 =====
python-dotenv>=1.0.0

# ===== Web 界面（可选）=====
gradio>=4.0.0

# ===== 其他依赖 =====
reportlab>=4.0.0  # PDF 生成
einops>=0.7.0  # 张量操作
timm>=0.9.0  # 图像模型

# ===== HuggingFace 工具 =====
huggingface-hub>=0.19.0
safetensors>=0.4.0

# ===== JSON 和数据格式 =====
orjson>=3.9.0

# ===== MinerU 核心依赖 =====
magic-pdf>=0.3.0  # MinerU 核心库
modelscope>=1.9.0  # 模型管理
ultralytics>=8.0.0,<9.0.0  # YOLO 模型（语言检测需要）
easyocr>=1.7.0  # OCR 引擎
rapidocr-onnxruntime>=1.3.0  # 快速 OCR
layoutparser>=0.3.0  # 文档布局分析
pymupdf4llm>=0.1.0  # PDF 处理增强

# ===== 计算机视觉 =====
opencv-python-headless>=4.8.0  # 轻量版 OpenCV
scikit-image>=0.22.0  # 图像处理
scikit-learn>=1.3.0  # 机器学习工具

# ===== 文本处理 =====
langdetect>=1.0.9  # 语言检测
pypinyin>=0.50.0  # 中文拼音
jieba>=0.42.1  # 中文分词

# ===== 网络和文件 =====
requests>=2.31.0  # HTTP 请求
aiohttp>=3.8.0  # 异步 HTTP
chardet>=5.2.0  # 字符编码检测

# ===== 系统工具 =====
psutil>=5.9.0  # 系统监控
py-cpuinfo>=9.0.0  # CPU 信息

# ===== 配置管理 =====
omegaconf>=2.3.0  # 配置管理
hydra-core>=1.3.0  # 配置框架

# ===== 注意事项 =====
# 1. vLLM CPU 模式安装比较复杂，建议使用 Docker 或 Transformers
# 2. 对于 Mac M1，推荐使用 Transformers + MPS 后端
# 3. 对于 Linux CPU，可以尝试编译 vLLM CPU 版本
# 4. Windows 用户建议使用 WSL2 + Docker

# ===== 安装说明 =====
# 标准安装（使用 Transformers，支持 CPU）:
#   pip install -r requirements.txt
#   pip install -e git+https://github.com/rednote-hilab/dots.ocr.git#egg=dots_ocr
#
# vLLM 安装（需要 CUDA GPU）:
#   pip install vllm>=0.11.0
#
# 下载模型:
#   python3 tools/download_model.py